
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>网络访问 · GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../practice/" />
    
    
    <link rel="prev" href="../oop/read only.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Swift 语法浅析
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../primer/">
            
                <a href="../primer/">
            
                    
                    快速体验
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1.1" data-path="../primer/playground.html">
            
                <a href="../primer/playground.html">
            
                    
                    playground
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.1.2" data-path="../primer/first app.html">
            
                <a href="../primer/first app.html">
            
                    
                    项目开发体验
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../basic/">
            
                <a href="../basic/">
            
                    
                    基本语法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.2.1" data-path="../basic/let and var.html">
            
                <a href="../basic/let and var.html">
            
                    
                    常量和变量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.2" data-path="../basic/optional.html">
            
                <a href="../basic/optional.html">
            
                    
                    Optional
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.3" data-path="../basic/control flow.html">
            
                <a href="../basic/control flow.html">
            
                    
                    控制流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.4" data-path="../basic/loop.html">
            
                <a href="../basic/loop.html">
            
                    
                    循环
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.5" data-path="../basic/string.html">
            
                <a href="../basic/string.html">
            
                    
                    字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2.6" data-path="../basic/collection.html">
            
                <a href="../basic/collection.html">
            
                    
                    集合
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../func/">
            
                <a href="../func/">
            
                    
                    函数
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.1" data-path="../func/func.html">
            
                <a href="../func/func.html">
            
                    
                    函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2" data-path="../func/closure.html">
            
                <a href="../func/closure.html">
            
                    
                    闭包
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.3.2.1" data-path="../func/closure define.html">
            
                <a href="../func/closure define.html">
            
                    
                    闭包的定义
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2.2" data-path="../func/closure basic.html">
            
                <a href="../func/closure basic.html">
            
                    
                    基本使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3.2.3" data-path="../func/closure retain cycle.html">
            
                <a href="../func/closure retain cycle.html">
            
                    
                    循环引用
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../oop/">
            
                <a href="../oop/">
            
                    
                    面相对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.4.1" data-path="../oop/init basic.html">
            
                <a href="../oop/init basic.html">
            
                    
                    构造函数基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.2" data-path="../oop/overload init.html">
            
                <a href="../oop/overload init.html">
            
                    
                    重载构造函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.3" data-path="../oop/init kvc.html">
            
                <a href="../oop/init kvc.html">
            
                    
                    KVC 构造函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.4" data-path="../oop/init convenience.html">
            
                <a href="../oop/init convenience.html">
            
                    
                    便利构造函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.5" data-path="../oop/lazy.html">
            
                <a href="../oop/lazy.html">
            
                    
                    懒加载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4.6" data-path="../oop/read only.html">
            
                <a href="../oop/read only.html">
            
                    
                    只读属性
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.1.5" data-path="./">
            
                <a href="./">
            
                    
                    网络访问
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6" data-path="../practice/">
            
                <a href="../practice/">
            
                    
                    项目演练
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.6.1" data-path="../practice/preparation.html">
            
                <a href="../practice/preparation.html">
            
                    
                    准备工作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.2" data-path="../practice/load data.html">
            
                <a href="../practice/load data.html">
            
                    
                    创建模型加载数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.3" data-path="../practice/table view cell.html">
            
                <a href="../practice/table view cell.html">
            
                    
                    自定义 Cell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.6.4" data-path="../practice/detail view controller.html">
            
                <a href="../practice/detail view controller.html">
            
                    
                    明细控制器
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >网络访问</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="xcode-7-&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;">Xcode 7 &#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8BF7;&#x6C42;</h1>
<h1 id="ats-&#x5E94;&#x7528;&#x4F20;&#x8F93;&#x5B89;&#x5168;">ATS &#x5E94;&#x7528;&#x4F20;&#x8F93;&#x5B89;&#x5168;</h1>
<p>App Transport Security (ATS) lets an app add a declaration to its Info.plist file that specifies the domains with which it needs secure communication. ATS prevents accidental disclosure, provides secure default behavior, and is easy to adopt. You should adopt ATS as soon as possible, regardless of whether you&#x2019;re creating a new app or updating an existing one. <br><br>If you&#x2019;re developing a new app, you should use HTTPS exclusively. If you have an existing app, you should use HTTPS as much as you can right now, and create a plan for migrating the rest of your app as soon as possible.</p>
<h2 id="&#x5F3A;&#x5236;&#x8BBF;&#x95EE;">&#x5F3A;&#x5236;&#x8BBF;&#x95EE;</h2>
<pre><code class="lang-plist"><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSAppTransportSecurity<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
  <span class="hljs-comment">&lt;!--Include to allow all connections (DANGER)--&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSAllowsArbitraryLoads<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
</code></pre>
<h2 id="&#x8BBE;&#x7F6E;&#x767D;&#x540D;&#x5355;">&#x8BBE;&#x7F6E;&#x767D;&#x540D;&#x5355;</h2>
<pre><code class="lang-plist"><span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSAppTransportSecurity<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSExceptionDomains<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>localhost<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">dict</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>NSTemporaryExceptionAllowsInsecureHTTPLoads<span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">true</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dict</span>&gt;</span>
</code></pre>
<ul>
<li>&#x7F51;&#x7EDC;&#x8BBF;&#x95EE;&#x4EE3;&#x7801;</li>
</ul>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> url = <span class="hljs-type">NSURL</span>(string: <span class="hljs-string">&quot;http://www.weather.com.cn/data/sk/101010100.html&quot;</span>)!

<span class="hljs-type">NSURLSession</span>.sharedSession().dataTaskWithURL(url) { (data, <span class="hljs-number">_</span>, error) <span class="hljs-keyword">in</span>
    <span class="hljs-keyword">if</span> error != <span class="hljs-literal">nil</span> {
        <span class="hljs-built_in">print</span>(error)
        <span class="hljs-keyword">return</span>
    }

}.resume()
</code></pre>
<ul>
<li><p>&#x8FD0;&#x884C;&#x63D0;&#x793A;&#xFF1A;App Transport Security has blocked a cleartext HTTP (http://) resource load since it is insecure. Temporary exceptions can be configured via your app&apos;s Info.plist file.</p>
</li>
<li><p>JSON &#x5E8F;&#x5217;&#x5316;</p>
</li>
</ul>
<pre><code class="lang-swift"><span class="hljs-keyword">let</span> dict = <span class="hljs-keyword">try</span>! <span class="hljs-type">NSJSONSerialization</span>.<span class="hljs-type">JSONObjectWithData</span>(data!, options: <span class="hljs-type">NSJSONReadingOptions</span>(rawValue: <span class="hljs-number">0</span>))
<span class="hljs-built_in">print</span>(dict)
</code></pre>
<ul>
<li>try catch</li>
</ul>
<pre><code class="lang-swift"><span class="hljs-keyword">do</span> {
    <span class="hljs-keyword">let</span> tmpData = <span class="hljs-string">&quot;{\&quot;name\&quot;: \&quot;zhangsan\&quot;}&quot;</span>.dataUsingEncoding(<span class="hljs-type">NSUTF8StringEncoding</span>)
    <span class="hljs-keyword">let</span> dict = <span class="hljs-keyword">try</span> <span class="hljs-type">NSJSONSerialization</span>.<span class="hljs-type">JSONObjectWithData</span>(tmpData!, options: <span class="hljs-type">NSJSONReadingOptions</span>[])
    <span class="hljs-built_in">print</span>(dict)
} <span class="hljs-keyword">catch</span> {
    <span class="hljs-built_in">print</span>(error)
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../oop/read only.html" class="navigation navigation-prev " aria-label="Previous page: 只读属性">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../practice/" class="navigation navigation-next " aria-label="Next page: 项目演练">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"网络访问","level":"1.1.5","depth":2,"next":{"title":"项目演练","level":"1.1.6","depth":2,"path":"practice/README.md","ref":"practice/README.md","articles":[{"title":"准备工作","level":"1.1.6.1","depth":3,"path":"practice/preparation.md","ref":"practice/preparation.md","articles":[]},{"title":"创建模型加载数据","level":"1.1.6.2","depth":3,"path":"practice/load data.md","ref":"practice/load data.md","articles":[]},{"title":"自定义 Cell","level":"1.1.6.3","depth":3,"path":"practice/table view cell.md","ref":"practice/table view cell.md","articles":[]},{"title":"明细控制器","level":"1.1.6.4","depth":3,"path":"practice/detail view controller.md","ref":"practice/detail view controller.md","articles":[]}]},"previous":{"title":"只读属性","level":"1.1.4.6","depth":3,"path":"oop/read only.md","ref":"oop/read only.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"network/README.md","mtime":"2015-10-11T21:03:08.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-05T06:57:24.704Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

